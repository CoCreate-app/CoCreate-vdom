(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["vdom"] = factory();
	else
		root["CoCreate"] = root["CoCreate"] || {}, root["CoCreate"]["vdom"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "../CoCreate-components/CoCreate-vdom/src/CoCreate-vdom.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "../CoCreate-components/CoCreate-vdom/src/CoCreate-vdom.js":
/*!*****************************************************************!*\
  !*** ../CoCreate-components/CoCreate-vdom/src/CoCreate-vdom.js ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction virtualDomGenerator(_ref) {\n  var realDom = _ref.realDom,\n      virtualDom = _ref.virtualDom,\n      options = _ref.options;\n  // set options to this.options and set defualts\n  this.options = options ? options : {};\n  Object.assign(this.options, {\n    indentBase: 10,\n    indentSum: 15,\n    exclude: [\"SCRIPT\"]\n  });\n\n  this.render = function (elList) {\n    var level = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var appendDom = arguments.length > 2 ? arguments[2] : undefined;\n\n    var _iterator = _createForOfIteratorHelper(elList),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var el = _step.value;\n        if (this.options.exclude.includes(el.tagName)) continue;\n        var virtualEl = this.createVirtualElement({\n          element: el\n        });\n        appendDom.append(virtualEl);\n\n        if (el.children.length) {\n          // virtualEl.classList.add('collapsible')\n          this.render(el.children, level + 1, virtualEl);\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  };\n\n  this.renderNew = function (elList) {\n    var level = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var appendDom = arguments.length > 2 ? arguments[2] : undefined;\n    var virtualEl;\n\n    var _iterator2 = _createForOfIteratorHelper(elList),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var el = _step2.value;\n        if (this.options.exclude.includes(el.tagName)) continue;\n        virtualEl = this.createVirtualElement({\n          element: el\n        });\n\n        if (el.children.length) {\n          // virtualEl.classList.add('collapsible')\n          this.renderNew(el.children, level + 1, virtualEl);\n        }\n\n        if (appendDom) appendDom.append(virtualEl);\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n\n    return virtualEl;\n  };\n\n  this.createVirtualElement = function (_ref2) {\n    var options = _ref2.options,\n        element = _ref2.element;\n    var treeItem = document.createElement(\"div\");\n    var displayName = element.getAttribute(\"data-name\");\n    var name = displayName ? displayName : element.tagName;\n    var isParent = element.children.length;\n    treeItem.classList.add(\"vdom-item\");\n    if (element.children.length) treeItem.classList.add(\"parent\");\n    var metadata = document.createElement(\"div\");\n    metadata.setAttribute(\"data-exclude\", \"true\"); // metadata.classList.add('metadata')\n\n    var realDomId = element.getAttribute(\"data-element_id\");\n    treeItem.setAttribute(\"data-element_id\", realDomId); // let atts = Array.from(element.attributes).filter(att => att.name.startsWith('data-draggable') || att.name.startsWith('data-droppable'))\n    // atts.forEach(att => {\n    //   treeItem.setAttribute(att.name, att.value);\n    // })\n\n    treeItem.setAttribute(\"data-draggable\", \"true\");\n    treeItem.setAttribute(\"data-droppable\", \"true\");\n    var text2 = document.createElement(\"span\");\n    text2.classList.add(\"element-name\");\n    text2.innerHTML = name;\n    var lastDisplay;\n    var eye = this.createFAIcon({\n      name: \"fa-eye\",\n      event: {\n        click: function click(e) {\n          if (element.style.display == \"none\") {\n            element.style.display = lastDisplay;\n            treeItem.classList.remove(\"layer-hidden\");\n          } else {\n            lastDisplay = element.style.display;\n            element.style.display = \"none\";\n            treeItem.classList.add(\"layer-hidden\");\n          }\n        }\n      }\n    });\n    var arrow = this.createFAIcon({\n      name: \"fa-arrows-alt\"\n    });\n    metadata.append(eye);\n\n    if (isParent) {\n      var down = this.createFAIcon({\n        name: \"fa-caret-down\"\n      });\n      var collapse = document.createElement(\"span\");\n      collapse.insertAdjacentElement(\"afterbegin\", down);\n      collapse.classList.add(\"icon-container\");\n      metadata.append(collapse);\n      down.setAttribute(\"data-toggle\", \"collapse\");\n      down.setAttribute(\"data-toggle_closest\", \".vdom-item\");\n      down.setAttribute(\"data-transform_to\", \"fa fa-caret-right\");\n    }\n\n    metadata.append(text2);\n    metadata.append(arrow);\n    treeItem.append(metadata);\n    return treeItem;\n  };\n\n  this.createFAIcon = function (_ref3) {\n    var name = _ref3.name,\n        event = _ref3.event;\n    var icon = document.createElement(\"i\");\n    icon.classList.add(\"fa\");\n    icon.classList.add(name);\n\n    if (event) {\n      var eventType = Object.keys(event)[0];\n      var func = event[eventType];\n      icon.addEventListener(eventType, func);\n    }\n\n    return icon;\n  };\n\n  this.render([realDom], 0, virtualDom);\n}\n/*global DOMParser*/\n\n\nconsole.log(\"vdom is loading\");\n\nfunction UUID() {\n  var length = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 10;\n  var result = \"\";\n  var characters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\";\n  var charactersLength = characters.length;\n\n  for (var i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n\n  var d = new Date().toTimeString();\n  var random = d.replace(/[\\W_]+/g, \"\").substr(0, 6);\n  result += random;\n  return result;\n} // window.initvdom = () => {\n//   console.log(\"vdom is initiationg\");\n//   let vdomTargets = document.querySelectorAll(\"[data-vdom_target]\");\n//   for (let i = 0, len = vdomTargets.length; i < len; i++) {\n//     let vdomTargetName = vdomTargets[i].getAttribute(\"data-vdom_target\");\n//     if (vdomTargetName) {\n//       let realdom = document.querySelector(\n//         \"[data-vdom_id=\" + vdomTargetName + \"]\"\n//       );\n//       // iframe.contentWindow.addEventListener('load', () => {\n//       let realdomElement;\n//       if (realdom.tagName && realdom.tagName == \"IFRAME\")\n//         realdomElement = realdom.contentDocument.body.parentNode;\n//       else realdomElement = realdom;\n//       if (realdom.contains(vdomTargets[i])) {\n//         let error = \"vdom: target(virtual dom) element can not owns real dom\";\n//         console.error(error);\n//         throw error;\n//       }\n//       let myVirtualDom = new virtualDom({\n//         realDom: realdomElement,\n//         virtualDom: vdomTargets[i],\n//       });\n//       window.vdomObject = myVirtualDom;\n//       // domEditor({ target: iframeHtml.querySelectorAll('*'), idGenerator: UUID })\n//       // domEditor({ target: vdomTargets[i].querySelectorAll('*'), idGenerator: UUID })\n//       // })\n//     }\n//   }\n//   console.log(\"vdom finish initiating\");\n// };\n\n\nvar vdom = {\n  initVdom: function initVdom(_ref4) {\n    var realdom = _ref4.realdom,\n        virtualDom = _ref4.virtualDom;\n    var myVirtualDom = new virtualDomGenerator({\n      realDom: realdom,\n      virtualDom: virtualDom\n    });\n    var realDomWindow = realdom.ownerDocument.defaultView;\n    CoCreate.observer.init({\n      name: \"vdom\",\n      exclude: \".vdom-item\",\n      observe: [\"childList\"],\n      callback: function callback(mutation) {\n        if (mutation.removedNodes) mutation.removedNodes.forEach(function (el) {\n          if (el.tagName) {\n            var _id = el.getAttribute(\"data-element_id\");\n\n            if (_id) {\n              var vd = virtualDom.querySelector(\"[data-element_id=\" + _id + \"]\");\n              if (vd) vd.remove();\n            }\n          }\n        });\n        var id = mutation.target.getAttribute(\"data-element_id\");\n\n        if (id) {\n          var vd = virtualDom.querySelector(\"[data-element_id=\" + id + \"]\");\n\n          if (vd) {\n            var newVd = myVirtualDom.renderNew([mutation.target]);\n            vd.replaceWith(newVd);\n          }\n        }\n      }\n    });\n    return myVirtualDom;\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (vdom);\nconsole.log(\"vdom finished loading\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Db0NyZWF0ZS52ZG9tLy4uL0NvQ3JlYXRlLWNvbXBvbmVudHMvQ29DcmVhdGUtdmRvbS9zcmMvQ29DcmVhdGUtdmRvbS5qcz81OGFkIl0sIm5hbWVzIjpbInZpcnR1YWxEb21HZW5lcmF0b3IiLCJyZWFsRG9tIiwidmlydHVhbERvbSIsIm9wdGlvbnMiLCJPYmplY3QiLCJhc3NpZ24iLCJpbmRlbnRCYXNlIiwiaW5kZW50U3VtIiwiZXhjbHVkZSIsInJlbmRlciIsImVsTGlzdCIsImxldmVsIiwiYXBwZW5kRG9tIiwiZWwiLCJpbmNsdWRlcyIsInRhZ05hbWUiLCJ2aXJ0dWFsRWwiLCJjcmVhdGVWaXJ0dWFsRWxlbWVudCIsImVsZW1lbnQiLCJhcHBlbmQiLCJjaGlsZHJlbiIsImxlbmd0aCIsInJlbmRlck5ldyIsInRyZWVJdGVtIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZGlzcGxheU5hbWUiLCJnZXRBdHRyaWJ1dGUiLCJuYW1lIiwiaXNQYXJlbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJtZXRhZGF0YSIsInNldEF0dHJpYnV0ZSIsInJlYWxEb21JZCIsInRleHQyIiwiaW5uZXJIVE1MIiwibGFzdERpc3BsYXkiLCJleWUiLCJjcmVhdGVGQUljb24iLCJldmVudCIsImNsaWNrIiwiZSIsInN0eWxlIiwiZGlzcGxheSIsInJlbW92ZSIsImFycm93IiwiZG93biIsImNvbGxhcHNlIiwiaW5zZXJ0QWRqYWNlbnRFbGVtZW50IiwiaWNvbiIsImV2ZW50VHlwZSIsImtleXMiLCJmdW5jIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNvbnNvbGUiLCJsb2ciLCJVVUlEIiwicmVzdWx0IiwiY2hhcmFjdGVycyIsImNoYXJhY3RlcnNMZW5ndGgiLCJpIiwiY2hhckF0IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiZCIsIkRhdGUiLCJ0b1RpbWVTdHJpbmciLCJyZXBsYWNlIiwic3Vic3RyIiwidmRvbSIsImluaXRWZG9tIiwicmVhbGRvbSIsIm15VmlydHVhbERvbSIsInJlYWxEb21XaW5kb3ciLCJvd25lckRvY3VtZW50IiwiZGVmYXVsdFZpZXciLCJDb0NyZWF0ZSIsIm9ic2VydmVyIiwiaW5pdCIsIm9ic2VydmUiLCJjYWxsYmFjayIsIm11dGF0aW9uIiwicmVtb3ZlZE5vZGVzIiwiZm9yRWFjaCIsImlkIiwidmQiLCJxdWVyeVNlbGVjdG9yIiwidGFyZ2V0IiwibmV3VmQiLCJyZXBsYWNlV2l0aCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLFNBQVNBLG1CQUFULE9BQStEO0FBQUEsTUFBaENDLE9BQWdDLFFBQWhDQSxPQUFnQztBQUFBLE1BQXZCQyxVQUF1QixRQUF2QkEsVUFBdUI7QUFBQSxNQUFYQyxPQUFXLFFBQVhBLE9BQVc7QUFDN0Q7QUFDQSxPQUFLQSxPQUFMLEdBQWVBLE9BQU8sR0FBR0EsT0FBSCxHQUFhLEVBQW5DO0FBQ0FDLFFBQU0sQ0FBQ0MsTUFBUCxDQUFjLEtBQUtGLE9BQW5CLEVBQTRCO0FBQzFCRyxjQUFVLEVBQUUsRUFEYztBQUUxQkMsYUFBUyxFQUFFLEVBRmU7QUFHMUJDLFdBQU8sRUFBRSxDQUFDLFFBQUQ7QUFIaUIsR0FBNUI7O0FBTUEsT0FBS0MsTUFBTCxHQUFjLFVBQVNDLE1BQVQsRUFBdUM7QUFBQSxRQUF0QkMsS0FBc0IsdUVBQWQsQ0FBYztBQUFBLFFBQVhDLFNBQVc7O0FBQUEsK0NBQ3BDRixNQURvQztBQUFBOztBQUFBO0FBQ25ELDBEQUF1QjtBQUFBLFlBQWRHLEVBQWM7QUFDckIsWUFBSSxLQUFLVixPQUFMLENBQWFLLE9BQWIsQ0FBcUJNLFFBQXJCLENBQThCRCxFQUFFLENBQUNFLE9BQWpDLENBQUosRUFBK0M7QUFFL0MsWUFBSUMsU0FBUyxHQUFHLEtBQUtDLG9CQUFMLENBQTBCO0FBQ3hDQyxpQkFBTyxFQUFFTDtBQUQrQixTQUExQixDQUFoQjtBQUlBRCxpQkFBUyxDQUFDTyxNQUFWLENBQWlCSCxTQUFqQjs7QUFFQSxZQUFJSCxFQUFFLENBQUNPLFFBQUgsQ0FBWUMsTUFBaEIsRUFBd0I7QUFDdEI7QUFDQSxlQUFLWixNQUFMLENBQVlJLEVBQUUsQ0FBQ08sUUFBZixFQUF5QlQsS0FBSyxHQUFHLENBQWpDLEVBQW9DSyxTQUFwQztBQUNEO0FBQ0Y7QUFka0Q7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQWVwRCxHQWZEOztBQWlCQSxPQUFLTSxTQUFMLEdBQWlCLFVBQVNaLE1BQVQsRUFBdUM7QUFBQSxRQUF0QkMsS0FBc0IsdUVBQWQsQ0FBYztBQUFBLFFBQVhDLFNBQVc7QUFDdEQsUUFBSUksU0FBSjs7QUFEc0QsZ0RBRXZDTixNQUZ1QztBQUFBOztBQUFBO0FBRXRELDZEQUF1QjtBQUFBLFlBQWRHLEVBQWM7QUFDckIsWUFBSSxLQUFLVixPQUFMLENBQWFLLE9BQWIsQ0FBcUJNLFFBQXJCLENBQThCRCxFQUFFLENBQUNFLE9BQWpDLENBQUosRUFBK0M7QUFFL0NDLGlCQUFTLEdBQUcsS0FBS0Msb0JBQUwsQ0FBMEI7QUFDcENDLGlCQUFPLEVBQUVMO0FBRDJCLFNBQTFCLENBQVo7O0FBSUEsWUFBSUEsRUFBRSxDQUFDTyxRQUFILENBQVlDLE1BQWhCLEVBQXdCO0FBQ3RCO0FBQ0EsZUFBS0MsU0FBTCxDQUFlVCxFQUFFLENBQUNPLFFBQWxCLEVBQTRCVCxLQUFLLEdBQUcsQ0FBcEMsRUFBdUNLLFNBQXZDO0FBQ0Q7O0FBQ0QsWUFBSUosU0FBSixFQUFlQSxTQUFTLENBQUNPLE1BQVYsQ0FBaUJILFNBQWpCO0FBQ2hCO0FBZHFEO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBZ0J0RCxXQUFPQSxTQUFQO0FBQ0QsR0FqQkQ7O0FBbUJBLE9BQUtDLG9CQUFMLEdBQTRCLGlCQUErQjtBQUFBLFFBQXBCZCxPQUFvQixTQUFwQkEsT0FBb0I7QUFBQSxRQUFYZSxPQUFXLFNBQVhBLE9BQVc7QUFDekQsUUFBSUssUUFBUSxHQUFHQyxRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBZjtBQUVBLFFBQUlDLFdBQVcsR0FBR1IsT0FBTyxDQUFDUyxZQUFSLENBQXFCLFdBQXJCLENBQWxCO0FBQ0EsUUFBSUMsSUFBSSxHQUFHRixXQUFXLEdBQUdBLFdBQUgsR0FBaUJSLE9BQU8sQ0FBQ0gsT0FBL0M7QUFFQSxRQUFJYyxRQUFRLEdBQUdYLE9BQU8sQ0FBQ0UsUUFBUixDQUFpQkMsTUFBaEM7QUFFQUUsWUFBUSxDQUFDTyxTQUFULENBQW1CQyxHQUFuQixDQUF1QixXQUF2QjtBQUNBLFFBQUliLE9BQU8sQ0FBQ0UsUUFBUixDQUFpQkMsTUFBckIsRUFBNkJFLFFBQVEsQ0FBQ08sU0FBVCxDQUFtQkMsR0FBbkIsQ0FBdUIsUUFBdkI7QUFFN0IsUUFBSUMsUUFBUSxHQUFHUixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBZjtBQUVBTyxZQUFRLENBQUNDLFlBQVQsQ0FBc0IsY0FBdEIsRUFBc0MsTUFBdEMsRUFieUQsQ0FjekQ7O0FBRUEsUUFBSUMsU0FBUyxHQUFHaEIsT0FBTyxDQUFDUyxZQUFSLENBQXFCLGlCQUFyQixDQUFoQjtBQUNBSixZQUFRLENBQUNVLFlBQVQsQ0FBc0IsaUJBQXRCLEVBQXlDQyxTQUF6QyxFQWpCeUQsQ0FrQnpEO0FBQ0E7QUFDQTtBQUNBOztBQUNBWCxZQUFRLENBQUNVLFlBQVQsQ0FBc0IsZ0JBQXRCLEVBQXdDLE1BQXhDO0FBQ0FWLFlBQVEsQ0FBQ1UsWUFBVCxDQUFzQixnQkFBdEIsRUFBd0MsTUFBeEM7QUFFQSxRQUFJRSxLQUFLLEdBQUdYLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixNQUF2QixDQUFaO0FBQ0FVLFNBQUssQ0FBQ0wsU0FBTixDQUFnQkMsR0FBaEIsQ0FBb0IsY0FBcEI7QUFDQUksU0FBSyxDQUFDQyxTQUFOLEdBQWtCUixJQUFsQjtBQUVBLFFBQUlTLFdBQUo7QUFDQSxRQUFJQyxHQUFHLEdBQUcsS0FBS0MsWUFBTCxDQUFrQjtBQUMxQlgsVUFBSSxFQUFFLFFBRG9CO0FBRTFCWSxXQUFLLEVBQUU7QUFDTEMsYUFBSyxFQUFFLGVBQUNDLENBQUQsRUFBTztBQUNaLGNBQUl4QixPQUFPLENBQUN5QixLQUFSLENBQWNDLE9BQWQsSUFBeUIsTUFBN0IsRUFBcUM7QUFDbkMxQixtQkFBTyxDQUFDeUIsS0FBUixDQUFjQyxPQUFkLEdBQXdCUCxXQUF4QjtBQUNBZCxvQkFBUSxDQUFDTyxTQUFULENBQW1CZSxNQUFuQixDQUEwQixjQUExQjtBQUNELFdBSEQsTUFJSztBQUNIUix1QkFBVyxHQUFHbkIsT0FBTyxDQUFDeUIsS0FBUixDQUFjQyxPQUE1QjtBQUNBMUIsbUJBQU8sQ0FBQ3lCLEtBQVIsQ0FBY0MsT0FBZCxHQUF3QixNQUF4QjtBQUNBckIsb0JBQVEsQ0FBQ08sU0FBVCxDQUFtQkMsR0FBbkIsQ0FBdUIsY0FBdkI7QUFDRDtBQUNGO0FBWEk7QUFGbUIsS0FBbEIsQ0FBVjtBQWdCQSxRQUFJZSxLQUFLLEdBQUcsS0FBS1AsWUFBTCxDQUFrQjtBQUFFWCxVQUFJLEVBQUU7QUFBUixLQUFsQixDQUFaO0FBRUFJLFlBQVEsQ0FBQ2IsTUFBVCxDQUFnQm1CLEdBQWhCOztBQUVBLFFBQUlULFFBQUosRUFBYztBQUNaLFVBQUlrQixJQUFJLEdBQUcsS0FBS1IsWUFBTCxDQUFrQjtBQUFFWCxZQUFJLEVBQUU7QUFBUixPQUFsQixDQUFYO0FBQ0EsVUFBSW9CLFFBQVEsR0FBR3hCLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixNQUF2QixDQUFmO0FBQ0F1QixjQUFRLENBQUNDLHFCQUFULENBQStCLFlBQS9CLEVBQTZDRixJQUE3QztBQUVBQyxjQUFRLENBQUNsQixTQUFULENBQW1CQyxHQUFuQixDQUF1QixnQkFBdkI7QUFFQUMsY0FBUSxDQUFDYixNQUFULENBQWdCNkIsUUFBaEI7QUFDQUQsVUFBSSxDQUFDZCxZQUFMLENBQWtCLGFBQWxCLEVBQWlDLFVBQWpDO0FBQ0FjLFVBQUksQ0FBQ2QsWUFBTCxDQUFrQixxQkFBbEIsRUFBeUMsWUFBekM7QUFDQWMsVUFBSSxDQUFDZCxZQUFMLENBQWtCLG1CQUFsQixFQUF1QyxtQkFBdkM7QUFDRDs7QUFFREQsWUFBUSxDQUFDYixNQUFULENBQWdCZ0IsS0FBaEI7QUFDQUgsWUFBUSxDQUFDYixNQUFULENBQWdCMkIsS0FBaEI7QUFDQXZCLFlBQVEsQ0FBQ0osTUFBVCxDQUFnQmEsUUFBaEI7QUFDQSxXQUFPVCxRQUFQO0FBQ0QsR0FuRUQ7O0FBcUVBLE9BQUtnQixZQUFMLEdBQW9CLGlCQUEwQjtBQUFBLFFBQWZYLElBQWUsU0FBZkEsSUFBZTtBQUFBLFFBQVRZLEtBQVMsU0FBVEEsS0FBUztBQUM1QyxRQUFJVSxJQUFJLEdBQUcxQixRQUFRLENBQUNDLGFBQVQsQ0FBdUIsR0FBdkIsQ0FBWDtBQUNBeUIsUUFBSSxDQUFDcEIsU0FBTCxDQUFlQyxHQUFmLENBQW1CLElBQW5CO0FBQ0FtQixRQUFJLENBQUNwQixTQUFMLENBQWVDLEdBQWYsQ0FBbUJILElBQW5COztBQUVBLFFBQUlZLEtBQUosRUFBVztBQUNULFVBQUlXLFNBQVMsR0FBRy9DLE1BQU0sQ0FBQ2dELElBQVAsQ0FBWVosS0FBWixFQUFtQixDQUFuQixDQUFoQjtBQUNBLFVBQUlhLElBQUksR0FBR2IsS0FBSyxDQUFDVyxTQUFELENBQWhCO0FBQ0FELFVBQUksQ0FBQ0ksZ0JBQUwsQ0FBc0JILFNBQXRCLEVBQWlDRSxJQUFqQztBQUNEOztBQUNELFdBQU9ILElBQVA7QUFDRCxHQVhEOztBQWFBLE9BQUt6QyxNQUFMLENBQVksQ0FBQ1IsT0FBRCxDQUFaLEVBQXVCLENBQXZCLEVBQTBCQyxVQUExQjtBQUNEO0FBRUQ7OztBQUVBcUQsT0FBTyxDQUFDQyxHQUFSLENBQVksaUJBQVo7O0FBRUEsU0FBU0MsSUFBVCxHQUEyQjtBQUFBLE1BQWJwQyxNQUFhLHVFQUFKLEVBQUk7QUFDekIsTUFBSXFDLE1BQU0sR0FBRyxFQUFiO0FBQ0EsTUFBSUMsVUFBVSxHQUFHLHNEQUFqQjtBQUVBLE1BQUlDLGdCQUFnQixHQUFHRCxVQUFVLENBQUN0QyxNQUFsQzs7QUFDQSxPQUFLLElBQUl3QyxDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHeEMsTUFBcEIsRUFBNEJ3QyxDQUFDLEVBQTdCLEVBQWlDO0FBQy9CSCxVQUFNLElBQUlDLFVBQVUsQ0FBQ0csTUFBWCxDQUFrQkMsSUFBSSxDQUFDQyxLQUFMLENBQVdELElBQUksQ0FBQ0UsTUFBTCxLQUFnQkwsZ0JBQTNCLENBQWxCLENBQVY7QUFDRDs7QUFFRCxNQUFJTSxDQUFDLEdBQUcsSUFBSUMsSUFBSixHQUFXQyxZQUFYLEVBQVI7QUFDQSxNQUFJSCxNQUFNLEdBQUdDLENBQUMsQ0FBQ0csT0FBRixDQUFVLFNBQVYsRUFBcUIsRUFBckIsRUFBeUJDLE1BQXpCLENBQWdDLENBQWhDLEVBQW1DLENBQW5DLENBQWI7QUFDQVosUUFBTSxJQUFJTyxNQUFWO0FBQ0EsU0FBT1AsTUFBUDtBQUNELEMsQ0FFRDtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUEsSUFBTWEsSUFBSSxHQUFHO0FBQ1hDLFVBQVEsRUFBRSx5QkFBa0M7QUFBQSxRQUF2QkMsT0FBdUIsU0FBdkJBLE9BQXVCO0FBQUEsUUFBZHZFLFVBQWMsU0FBZEEsVUFBYztBQUMxQyxRQUFJd0UsWUFBWSxHQUFHLElBQUkxRSxtQkFBSixDQUF3QjtBQUN6Q0MsYUFBTyxFQUFFd0UsT0FEZ0M7QUFFekN2RSxnQkFBVSxFQUFWQTtBQUZ5QyxLQUF4QixDQUFuQjtBQUtBLFFBQUl5RSxhQUFhLEdBQUdGLE9BQU8sQ0FBQ0csYUFBUixDQUFzQkMsV0FBMUM7QUFFQUMsWUFBUSxDQUFDQyxRQUFULENBQWtCQyxJQUFsQixDQUF1QjtBQUNyQnBELFVBQUksRUFBRSxNQURlO0FBRXJCcEIsYUFBTyxFQUFDLFlBRmE7QUFHckJ5RSxhQUFPLEVBQUUsQ0FBQyxXQUFELENBSFk7QUFJckJDLGNBQVEsRUFBRSxrQkFBQ0MsUUFBRCxFQUFjO0FBQ3RCLFlBQUdBLFFBQVEsQ0FBQ0MsWUFBWixFQUNBRCxRQUFRLENBQUNDLFlBQVQsQ0FBc0JDLE9BQXRCLENBQThCLFVBQUN4RSxFQUFELEVBQVE7QUFDcEMsY0FBSUEsRUFBRSxDQUFDRSxPQUFQLEVBQWdCO0FBQ2QsZ0JBQUl1RSxHQUFFLEdBQUd6RSxFQUFFLENBQUNjLFlBQUgsQ0FBZ0IsaUJBQWhCLENBQVQ7O0FBQ0EsZ0JBQUkyRCxHQUFKLEVBQVE7QUFDTixrQkFBSUMsRUFBRSxHQUFHckYsVUFBVSxDQUFDc0YsYUFBWCxDQUF5QixzQkFBc0JGLEdBQXRCLEdBQTJCLEdBQXBELENBQVQ7QUFDQSxrQkFBSUMsRUFBSixFQUFRQSxFQUFFLENBQUMxQyxNQUFIO0FBQ1Q7QUFDRjtBQUNGLFNBUkQ7QUFTQSxZQUFJeUMsRUFBRSxHQUFHSCxRQUFRLENBQUNNLE1BQVQsQ0FBZ0I5RCxZQUFoQixDQUE2QixpQkFBN0IsQ0FBVDs7QUFDQSxZQUFJMkQsRUFBSixFQUFRO0FBQ04sY0FBSUMsRUFBRSxHQUFHckYsVUFBVSxDQUFDc0YsYUFBWCxDQUF5QixzQkFBc0JGLEVBQXRCLEdBQTJCLEdBQXBELENBQVQ7O0FBQ0EsY0FBSUMsRUFBSixFQUFRO0FBQ04sZ0JBQUlHLEtBQUssR0FBR2hCLFlBQVksQ0FBQ3BELFNBQWIsQ0FBdUIsQ0FBQzZELFFBQVEsQ0FBQ00sTUFBVixDQUF2QixDQUFaO0FBQ0FGLGNBQUUsQ0FBQ0ksV0FBSCxDQUFlRCxLQUFmO0FBQ0Q7QUFDRjtBQUNGO0FBdkJvQixLQUF2QjtBQTBCQSxXQUFPaEIsWUFBUDtBQUNEO0FBcENVLENBQWI7QUF1Q2VILG1FQUFmO0FBRUFoQixPQUFPLENBQUNDLEdBQVIsQ0FBWSx1QkFBWiIsImZpbGUiOiIuLi9Db0NyZWF0ZS1jb21wb25lbnRzL0NvQ3JlYXRlLXZkb20vc3JjL0NvQ3JlYXRlLXZkb20uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiB2aXJ0dWFsRG9tR2VuZXJhdG9yKHsgcmVhbERvbSwgdmlydHVhbERvbSwgb3B0aW9ucyB9KSB7XG4gIC8vIHNldCBvcHRpb25zIHRvIHRoaXMub3B0aW9ucyBhbmQgc2V0IGRlZnVhbHRzXG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnMgPyBvcHRpb25zIDoge307XG4gIE9iamVjdC5hc3NpZ24odGhpcy5vcHRpb25zLCB7XG4gICAgaW5kZW50QmFzZTogMTAsXG4gICAgaW5kZW50U3VtOiAxNSxcbiAgICBleGNsdWRlOiBbXCJTQ1JJUFRcIl0sXG4gIH0pO1xuXG4gIHRoaXMucmVuZGVyID0gZnVuY3Rpb24oZWxMaXN0LCBsZXZlbCA9IDAsIGFwcGVuZERvbSkge1xuICAgIGZvciAobGV0IGVsIG9mIGVsTGlzdCkge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5leGNsdWRlLmluY2x1ZGVzKGVsLnRhZ05hbWUpKSBjb250aW51ZTtcblxuICAgICAgbGV0IHZpcnR1YWxFbCA9IHRoaXMuY3JlYXRlVmlydHVhbEVsZW1lbnQoe1xuICAgICAgICBlbGVtZW50OiBlbCxcbiAgICAgIH0pO1xuXG4gICAgICBhcHBlbmREb20uYXBwZW5kKHZpcnR1YWxFbCk7XG5cbiAgICAgIGlmIChlbC5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgLy8gdmlydHVhbEVsLmNsYXNzTGlzdC5hZGQoJ2NvbGxhcHNpYmxlJylcbiAgICAgICAgdGhpcy5yZW5kZXIoZWwuY2hpbGRyZW4sIGxldmVsICsgMSwgdmlydHVhbEVsKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdGhpcy5yZW5kZXJOZXcgPSBmdW5jdGlvbihlbExpc3QsIGxldmVsID0gMCwgYXBwZW5kRG9tKSB7XG4gICAgbGV0IHZpcnR1YWxFbDtcbiAgICBmb3IgKGxldCBlbCBvZiBlbExpc3QpIHtcbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuZXhjbHVkZS5pbmNsdWRlcyhlbC50YWdOYW1lKSkgY29udGludWU7XG5cbiAgICAgIHZpcnR1YWxFbCA9IHRoaXMuY3JlYXRlVmlydHVhbEVsZW1lbnQoe1xuICAgICAgICBlbGVtZW50OiBlbCxcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoZWwuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgIC8vIHZpcnR1YWxFbC5jbGFzc0xpc3QuYWRkKCdjb2xsYXBzaWJsZScpXG4gICAgICAgIHRoaXMucmVuZGVyTmV3KGVsLmNoaWxkcmVuLCBsZXZlbCArIDEsIHZpcnR1YWxFbCk7XG4gICAgICB9XG4gICAgICBpZiAoYXBwZW5kRG9tKSBhcHBlbmREb20uYXBwZW5kKHZpcnR1YWxFbCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZpcnR1YWxFbDtcbiAgfTtcblxuICB0aGlzLmNyZWF0ZVZpcnR1YWxFbGVtZW50ID0gZnVuY3Rpb24oeyBvcHRpb25zLCBlbGVtZW50IH0pIHtcbiAgICBsZXQgdHJlZUl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXG4gICAgbGV0IGRpc3BsYXlOYW1lID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLW5hbWVcIik7XG4gICAgbGV0IG5hbWUgPSBkaXNwbGF5TmFtZSA/IGRpc3BsYXlOYW1lIDogZWxlbWVudC50YWdOYW1lO1xuXG4gICAgbGV0IGlzUGFyZW50ID0gZWxlbWVudC5jaGlsZHJlbi5sZW5ndGg7XG5cbiAgICB0cmVlSXRlbS5jbGFzc0xpc3QuYWRkKFwidmRvbS1pdGVtXCIpO1xuICAgIGlmIChlbGVtZW50LmNoaWxkcmVuLmxlbmd0aCkgdHJlZUl0ZW0uY2xhc3NMaXN0LmFkZChcInBhcmVudFwiKTtcblxuICAgIGxldCBtZXRhZGF0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICBtZXRhZGF0YS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWV4Y2x1ZGVcIiwgXCJ0cnVlXCIpO1xuICAgIC8vIG1ldGFkYXRhLmNsYXNzTGlzdC5hZGQoJ21ldGFkYXRhJylcblxuICAgIGxldCByZWFsRG9tSWQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtZWxlbWVudF9pZFwiKTtcbiAgICB0cmVlSXRlbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWVsZW1lbnRfaWRcIiwgcmVhbERvbUlkKTtcbiAgICAvLyBsZXQgYXR0cyA9IEFycmF5LmZyb20oZWxlbWVudC5hdHRyaWJ1dGVzKS5maWx0ZXIoYXR0ID0+IGF0dC5uYW1lLnN0YXJ0c1dpdGgoJ2RhdGEtZHJhZ2dhYmxlJykgfHwgYXR0Lm5hbWUuc3RhcnRzV2l0aCgnZGF0YS1kcm9wcGFibGUnKSlcbiAgICAvLyBhdHRzLmZvckVhY2goYXR0ID0+IHtcbiAgICAvLyAgIHRyZWVJdGVtLnNldEF0dHJpYnV0ZShhdHQubmFtZSwgYXR0LnZhbHVlKTtcbiAgICAvLyB9KVxuICAgIHRyZWVJdGVtLnNldEF0dHJpYnV0ZShcImRhdGEtZHJhZ2dhYmxlXCIsIFwidHJ1ZVwiKTtcbiAgICB0cmVlSXRlbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWRyb3BwYWJsZVwiLCBcInRydWVcIik7XG5cbiAgICBsZXQgdGV4dDIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICB0ZXh0Mi5jbGFzc0xpc3QuYWRkKFwiZWxlbWVudC1uYW1lXCIpO1xuICAgIHRleHQyLmlubmVySFRNTCA9IG5hbWU7XG5cbiAgICBsZXQgbGFzdERpc3BsYXk7XG4gICAgbGV0IGV5ZSA9IHRoaXMuY3JlYXRlRkFJY29uKHtcbiAgICAgIG5hbWU6IFwiZmEtZXllXCIsXG4gICAgICBldmVudDoge1xuICAgICAgICBjbGljazogKGUpID0+IHtcbiAgICAgICAgICBpZiAoZWxlbWVudC5zdHlsZS5kaXNwbGF5ID09IFwibm9uZVwiKSB7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBsYXN0RGlzcGxheTtcbiAgICAgICAgICAgIHRyZWVJdGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJsYXllci1oaWRkZW5cIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGFzdERpc3BsYXkgPSBlbGVtZW50LnN0eWxlLmRpc3BsYXk7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIHRyZWVJdGVtLmNsYXNzTGlzdC5hZGQoXCJsYXllci1oaWRkZW5cIik7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KTtcbiAgICBsZXQgYXJyb3cgPSB0aGlzLmNyZWF0ZUZBSWNvbih7IG5hbWU6IFwiZmEtYXJyb3dzLWFsdFwiIH0pO1xuXG4gICAgbWV0YWRhdGEuYXBwZW5kKGV5ZSk7XG5cbiAgICBpZiAoaXNQYXJlbnQpIHtcbiAgICAgIGxldCBkb3duID0gdGhpcy5jcmVhdGVGQUljb24oeyBuYW1lOiBcImZhLWNhcmV0LWRvd25cIiB9KTtcbiAgICAgIGxldCBjb2xsYXBzZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgY29sbGFwc2UuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KFwiYWZ0ZXJiZWdpblwiLCBkb3duKTtcblxuICAgICAgY29sbGFwc2UuY2xhc3NMaXN0LmFkZChcImljb24tY29udGFpbmVyXCIpO1xuXG4gICAgICBtZXRhZGF0YS5hcHBlbmQoY29sbGFwc2UpO1xuICAgICAgZG93bi5zZXRBdHRyaWJ1dGUoXCJkYXRhLXRvZ2dsZVwiLCBcImNvbGxhcHNlXCIpO1xuICAgICAgZG93bi5zZXRBdHRyaWJ1dGUoXCJkYXRhLXRvZ2dsZV9jbG9zZXN0XCIsIFwiLnZkb20taXRlbVwiKTtcbiAgICAgIGRvd24uc2V0QXR0cmlidXRlKFwiZGF0YS10cmFuc2Zvcm1fdG9cIiwgXCJmYSBmYS1jYXJldC1yaWdodFwiKTtcbiAgICB9XG5cbiAgICBtZXRhZGF0YS5hcHBlbmQodGV4dDIpO1xuICAgIG1ldGFkYXRhLmFwcGVuZChhcnJvdyk7XG4gICAgdHJlZUl0ZW0uYXBwZW5kKG1ldGFkYXRhKTtcbiAgICByZXR1cm4gdHJlZUl0ZW07XG4gIH07XG5cbiAgdGhpcy5jcmVhdGVGQUljb24gPSBmdW5jdGlvbih7IG5hbWUsIGV2ZW50IH0pIHtcbiAgICBsZXQgaWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpXCIpO1xuICAgIGljb24uY2xhc3NMaXN0LmFkZChcImZhXCIpO1xuICAgIGljb24uY2xhc3NMaXN0LmFkZChuYW1lKTtcblxuICAgIGlmIChldmVudCkge1xuICAgICAgbGV0IGV2ZW50VHlwZSA9IE9iamVjdC5rZXlzKGV2ZW50KVswXTtcbiAgICAgIGxldCBmdW5jID0gZXZlbnRbZXZlbnRUeXBlXTtcbiAgICAgIGljb24uYWRkRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIGZ1bmMpO1xuICAgIH1cbiAgICByZXR1cm4gaWNvbjtcbiAgfTtcblxuICB0aGlzLnJlbmRlcihbcmVhbERvbV0sIDAsIHZpcnR1YWxEb20pO1xufVxuXG4vKmdsb2JhbCBET01QYXJzZXIqL1xuXG5jb25zb2xlLmxvZyhcInZkb20gaXMgbG9hZGluZ1wiKTtcblxuZnVuY3Rpb24gVVVJRChsZW5ndGggPSAxMCkge1xuICB2YXIgcmVzdWx0ID0gXCJcIjtcbiAgdmFyIGNoYXJhY3RlcnMgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIjtcblxuICB2YXIgY2hhcmFjdGVyc0xlbmd0aCA9IGNoYXJhY3RlcnMubGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgcmVzdWx0ICs9IGNoYXJhY3RlcnMuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNoYXJhY3RlcnNMZW5ndGgpKTtcbiAgfVxuXG4gIHZhciBkID0gbmV3IERhdGUoKS50b1RpbWVTdHJpbmcoKTtcbiAgdmFyIHJhbmRvbSA9IGQucmVwbGFjZSgvW1xcV19dKy9nLCBcIlwiKS5zdWJzdHIoMCwgNik7XG4gIHJlc3VsdCArPSByYW5kb207XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIHdpbmRvdy5pbml0dmRvbSA9ICgpID0+IHtcbi8vICAgY29uc29sZS5sb2coXCJ2ZG9tIGlzIGluaXRpYXRpb25nXCIpO1xuXG4vLyAgIGxldCB2ZG9tVGFyZ2V0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS12ZG9tX3RhcmdldF1cIik7XG5cbi8vICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHZkb21UYXJnZXRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4vLyAgICAgbGV0IHZkb21UYXJnZXROYW1lID0gdmRvbVRhcmdldHNbaV0uZ2V0QXR0cmlidXRlKFwiZGF0YS12ZG9tX3RhcmdldFwiKTtcblxuLy8gICAgIGlmICh2ZG9tVGFyZ2V0TmFtZSkge1xuLy8gICAgICAgbGV0IHJlYWxkb20gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuLy8gICAgICAgICBcIltkYXRhLXZkb21faWQ9XCIgKyB2ZG9tVGFyZ2V0TmFtZSArIFwiXVwiXG4vLyAgICAgICApO1xuLy8gICAgICAgLy8gaWZyYW1lLmNvbnRlbnRXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbi8vICAgICAgIGxldCByZWFsZG9tRWxlbWVudDtcbi8vICAgICAgIGlmIChyZWFsZG9tLnRhZ05hbWUgJiYgcmVhbGRvbS50YWdOYW1lID09IFwiSUZSQU1FXCIpXG4vLyAgICAgICAgIHJlYWxkb21FbGVtZW50ID0gcmVhbGRvbS5jb250ZW50RG9jdW1lbnQuYm9keS5wYXJlbnROb2RlO1xuLy8gICAgICAgZWxzZSByZWFsZG9tRWxlbWVudCA9IHJlYWxkb207XG5cbi8vICAgICAgIGlmIChyZWFsZG9tLmNvbnRhaW5zKHZkb21UYXJnZXRzW2ldKSkge1xuLy8gICAgICAgICBsZXQgZXJyb3IgPSBcInZkb206IHRhcmdldCh2aXJ0dWFsIGRvbSkgZWxlbWVudCBjYW4gbm90IG93bnMgcmVhbCBkb21cIjtcbi8vICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4vLyAgICAgICAgIHRocm93IGVycm9yO1xuLy8gICAgICAgfVxuXG4vLyAgICAgICBsZXQgbXlWaXJ0dWFsRG9tID0gbmV3IHZpcnR1YWxEb20oe1xuLy8gICAgICAgICByZWFsRG9tOiByZWFsZG9tRWxlbWVudCxcbi8vICAgICAgICAgdmlydHVhbERvbTogdmRvbVRhcmdldHNbaV0sXG4vLyAgICAgICB9KTtcbi8vICAgICAgIHdpbmRvdy52ZG9tT2JqZWN0ID0gbXlWaXJ0dWFsRG9tO1xuLy8gICAgICAgLy8gZG9tRWRpdG9yKHsgdGFyZ2V0OiBpZnJhbWVIdG1sLnF1ZXJ5U2VsZWN0b3JBbGwoJyonKSwgaWRHZW5lcmF0b3I6IFVVSUQgfSlcbi8vICAgICAgIC8vIGRvbUVkaXRvcih7IHRhcmdldDogdmRvbVRhcmdldHNbaV0ucXVlcnlTZWxlY3RvckFsbCgnKicpLCBpZEdlbmVyYXRvcjogVVVJRCB9KVxuLy8gICAgICAgLy8gfSlcbi8vICAgICB9XG4vLyAgIH1cbi8vICAgY29uc29sZS5sb2coXCJ2ZG9tIGZpbmlzaCBpbml0aWF0aW5nXCIpO1xuLy8gfTtcblxuY29uc3QgdmRvbSA9IHtcbiAgaW5pdFZkb206IGZ1bmN0aW9uKHsgcmVhbGRvbSwgdmlydHVhbERvbSB9KSB7XG4gICAgbGV0IG15VmlydHVhbERvbSA9IG5ldyB2aXJ0dWFsRG9tR2VuZXJhdG9yKHtcbiAgICAgIHJlYWxEb206IHJlYWxkb20sXG4gICAgICB2aXJ0dWFsRG9tLFxuICAgIH0pO1xuXG4gICAgbGV0IHJlYWxEb21XaW5kb3cgPSByZWFsZG9tLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XG5cbiAgICBDb0NyZWF0ZS5vYnNlcnZlci5pbml0KHtcbiAgICAgIG5hbWU6IFwidmRvbVwiLFxuICAgICAgZXhjbHVkZTpcIi52ZG9tLWl0ZW1cIixcbiAgICAgIG9ic2VydmU6IFtcImNoaWxkTGlzdFwiXSxcbiAgICAgIGNhbGxiYWNrOiAobXV0YXRpb24pID0+IHtcbiAgICAgICAgaWYobXV0YXRpb24ucmVtb3ZlZE5vZGVzKVxuICAgICAgICBtdXRhdGlvbi5yZW1vdmVkTm9kZXMuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgICAgICBpZiAoZWwudGFnTmFtZSkge1xuICAgICAgICAgICAgbGV0IGlkID0gZWwuZ2V0QXR0cmlidXRlKFwiZGF0YS1lbGVtZW50X2lkXCIpO1xuICAgICAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICAgIGxldCB2ZCA9IHZpcnR1YWxEb20ucXVlcnlTZWxlY3RvcihcIltkYXRhLWVsZW1lbnRfaWQ9XCIgKyBpZCArIFwiXVwiKTtcbiAgICAgICAgICAgICAgaWYgKHZkKSB2ZC5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgaWQgPSBtdXRhdGlvbi50YXJnZXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1lbGVtZW50X2lkXCIpO1xuICAgICAgICBpZiAoaWQpIHtcbiAgICAgICAgICBsZXQgdmQgPSB2aXJ0dWFsRG9tLnF1ZXJ5U2VsZWN0b3IoXCJbZGF0YS1lbGVtZW50X2lkPVwiICsgaWQgKyBcIl1cIik7XG4gICAgICAgICAgaWYgKHZkKSB7XG4gICAgICAgICAgICBsZXQgbmV3VmQgPSBteVZpcnR1YWxEb20ucmVuZGVyTmV3KFttdXRhdGlvbi50YXJnZXRdKTtcbiAgICAgICAgICAgIHZkLnJlcGxhY2VXaXRoKG5ld1ZkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICByZXR1cm4gbXlWaXJ0dWFsRG9tO1xuICB9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgdmRvbTtcblxuY29uc29sZS5sb2coXCJ2ZG9tIGZpbmlzaGVkIGxvYWRpbmdcIik7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../CoCreate-components/CoCreate-vdom/src/CoCreate-vdom.js\n");

/***/ })

/******/ })["default"];
});