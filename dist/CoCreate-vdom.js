(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["vdom"] = factory();
	else
		root["vdom"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/CoCreate-vdom.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/CoCreate-vdom.js":
/*!******************************!*\
  !*** ./src/CoCreate-vdom.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction virtualDomGenerator(_ref) {\n  var realDom = _ref.realDom,\n      virtualDom = _ref.virtualDom,\n      options = _ref.options;\n  // set options to this.options and set defualts\n  this.options = options ? options : {};\n  Object.assign(this.options, {\n    indentBase: 10,\n    indentSum: 15,\n    exclude: [\"SCRIPT\"]\n  });\n\n  this.render = function (elList) {\n    var level = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var appendDom = arguments.length > 2 ? arguments[2] : undefined;\n\n    var _iterator = _createForOfIteratorHelper(elList),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var el = _step.value;\n        if (this.options.exclude.includes(el.tagName)) continue;\n        var virtualEl = this.createVirtualElement({\n          element: el\n        });\n        appendDom.append(virtualEl);\n\n        if (el.children.length) {\n          // virtualEl.classList.add('collapsible')\n          this.render(el.children, level + 1, virtualEl);\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  };\n\n  this.renderNew = function (elList) {\n    var level = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var appendDom = arguments.length > 2 ? arguments[2] : undefined;\n    var virtualEl;\n\n    var _iterator2 = _createForOfIteratorHelper(elList),\n        _step2;\n\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var el = _step2.value;\n        if (this.options.exclude.includes(el.tagName)) continue;\n        virtualEl = this.createVirtualElement({\n          element: el\n        });\n\n        if (el.children.length) {\n          // virtualEl.classList.add('collapsible')\n          this.renderNew(el.children, level + 1, virtualEl);\n        }\n\n        if (appendDom) appendDom.append(virtualEl);\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n\n    return virtualEl;\n  };\n\n  this.createVirtualElement = function (_ref2) {\n    var options = _ref2.options,\n        element = _ref2.element;\n    var treeItem = document.createElement(\"div\");\n    var displayName = element.getAttribute(\"data-name\");\n    var name = displayName ? displayName : element.tagName;\n    var isParent = element.children.length;\n    treeItem.classList.add(\"vdom-item\");\n    if (element.children.length) treeItem.classList.add(\"parent\");\n    var metadata = document.createElement(\"div\");\n    metadata.setAttribute(\"data-exclude\", \"true\"); // metadata.classList.add('metadata')\n\n    var realDomId = element.getAttribute(\"data-element_id\");\n    treeItem.setAttribute(\"data-element_id\", realDomId); // let atts = Array.from(element.attributes).filter(att => att.name.startsWith('data-draggable') || att.name.startsWith('data-droppable'))\n    // atts.forEach(att => {\n    //   treeItem.setAttribute(att.name, att.value);\n    // })\n\n    treeItem.setAttribute(\"data-draggable\", \"true\");\n    treeItem.setAttribute(\"data-droppable\", \"true\");\n    var text2 = document.createElement(\"span\");\n    text2.classList.add(\"element-name\");\n    text2.innerHTML = name;\n    var lastDisplay;\n    var eye = this.createFAIcon({\n      name: \"fa-eye\",\n      event: {\n        click: function click(e) {\n          if (element.style.display == \"none\") {\n            element.style.display = lastDisplay;\n            treeItem.classList.remove(\"layer-hidden\");\n          } else {\n            lastDisplay = element.style.display;\n            element.style.display = \"none\";\n            treeItem.classList.add(\"layer-hidden\");\n          }\n        }\n      }\n    });\n    var arrow = this.createFAIcon({\n      name: \"fa-arrows-alt\"\n    });\n    metadata.append(eye);\n\n    if (isParent) {\n      var down = this.createFAIcon({\n        name: \"fa-caret-down\"\n      });\n      var collapse = document.createElement(\"span\");\n      collapse.insertAdjacentElement(\"afterbegin\", down);\n      collapse.classList.add(\"icon-container\");\n      metadata.append(collapse);\n      down.setAttribute(\"data-toggle\", \"collapse\");\n      down.setAttribute(\"data-toggle_closest\", \".vdom-item\");\n      down.setAttribute(\"data-transform_to\", \"fa fa-caret-right\");\n    }\n\n    metadata.append(text2);\n    metadata.append(arrow);\n    treeItem.append(metadata);\n    return treeItem;\n  };\n\n  this.createFAIcon = function (_ref3) {\n    var name = _ref3.name,\n        event = _ref3.event;\n    var icon = document.createElement(\"i\");\n    icon.classList.add(\"fa\");\n    icon.classList.add(name);\n\n    if (event) {\n      var eventType = Object.keys(event)[0];\n      var func = event[eventType];\n      icon.addEventListener(eventType, func);\n    }\n\n    return icon;\n  };\n\n  this.render([realDom], 0, virtualDom);\n}\n/*global DOMParser*/\n\n\nconsole.log(\"vdom is loading\");\n\nfunction UUID() {\n  var length = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 10;\n  var result = \"\";\n  var characters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\";\n  var charactersLength = characters.length;\n\n  for (var i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n\n  var d = new Date().toTimeString();\n  var random = d.replace(/[\\W_]+/g, \"\").substr(0, 6);\n  result += random;\n  return result;\n} // window.initvdom = () => {\n//   console.log(\"vdom is initiationg\");\n//   let vdomTargets = document.querySelectorAll(\"[data-vdom_target]\");\n//   for (let i = 0, len = vdomTargets.length; i < len; i++) {\n//     let vdomTargetName = vdomTargets[i].getAttribute(\"data-vdom_target\");\n//     if (vdomTargetName) {\n//       let realdom = document.querySelector(\n//         \"[data-vdom_id=\" + vdomTargetName + \"]\"\n//       );\n//       // iframe.contentWindow.addEventListener('load', () => {\n//       let realdomElement;\n//       if (realdom.tagName && realdom.tagName == \"IFRAME\")\n//         realdomElement = realdom.contentDocument.body.parentNode;\n//       else realdomElement = realdom;\n//       if (realdom.contains(vdomTargets[i])) {\n//         let error = \"vdom: target(virtual dom) element can not owns real dom\";\n//         console.error(error);\n//         throw error;\n//       }\n//       let myVirtualDom = new virtualDom({\n//         realDom: realdomElement,\n//         virtualDom: vdomTargets[i],\n//       });\n//       window.vdomObject = myVirtualDom;\n//       // domEditor({ target: iframeHtml.querySelectorAll('*'), idGenerator: UUID })\n//       // domEditor({ target: vdomTargets[i].querySelectorAll('*'), idGenerator: UUID })\n//       // })\n//     }\n//   }\n//   console.log(\"vdom finish initiating\");\n// };\n\n\nvar vdom = {\n  initVdom: function initVdom(_ref4) {\n    var realdom = _ref4.realdom,\n        virtualDom = _ref4.virtualDom;\n    var myVirtualDom = new virtualDomGenerator({\n      realDom: realdom,\n      virtualDom: virtualDom\n    });\n    var realDomWindow = realdom.ownerDocument.defaultView;\n    CoCreateObserver.add({\n      name: \"vdom\",\n      exclude: \".vdom-item\",\n      observe: [\"childList\"],\n      task: function task(mutation) {\n        if (mutation.removedNodes) mutation.removedNodes.forEach(function (el) {\n          if (el.tagName) {\n            var _id = el.getAttribute(\"data-element_id\");\n\n            if (_id) {\n              var vd = virtualDom.querySelector(\"[data-element_id=\" + _id + \"]\");\n              if (vd) vd.remove();\n            }\n          }\n        });\n        var id = mutation.target.getAttribute(\"data-element_id\");\n\n        if (id) {\n          var vd = virtualDom.querySelector(\"[data-element_id=\" + id + \"]\");\n\n          if (vd) {\n            var newVd = myVirtualDom.renderNew([mutation.target]);\n            vd.replaceWith(newVd);\n          }\n        }\n      }\n    });\n    return myVirtualDom;\n  }\n};\n/* harmony default export */ __webpack_exports__[\"default\"] = (vdom);\nconsole.log(\"vdom finished loading\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92ZG9tLy4vc3JjL0NvQ3JlYXRlLXZkb20uanM/NjFjOSJdLCJuYW1lcyI6WyJ2aXJ0dWFsRG9tR2VuZXJhdG9yIiwicmVhbERvbSIsInZpcnR1YWxEb20iLCJvcHRpb25zIiwiT2JqZWN0IiwiYXNzaWduIiwiaW5kZW50QmFzZSIsImluZGVudFN1bSIsImV4Y2x1ZGUiLCJyZW5kZXIiLCJlbExpc3QiLCJsZXZlbCIsImFwcGVuZERvbSIsImVsIiwiaW5jbHVkZXMiLCJ0YWdOYW1lIiwidmlydHVhbEVsIiwiY3JlYXRlVmlydHVhbEVsZW1lbnQiLCJlbGVtZW50IiwiYXBwZW5kIiwiY2hpbGRyZW4iLCJsZW5ndGgiLCJyZW5kZXJOZXciLCJ0cmVlSXRlbSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImRpc3BsYXlOYW1lIiwiZ2V0QXR0cmlidXRlIiwibmFtZSIsImlzUGFyZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwibWV0YWRhdGEiLCJzZXRBdHRyaWJ1dGUiLCJyZWFsRG9tSWQiLCJ0ZXh0MiIsImlubmVySFRNTCIsImxhc3REaXNwbGF5IiwiZXllIiwiY3JlYXRlRkFJY29uIiwiZXZlbnQiLCJjbGljayIsImUiLCJzdHlsZSIsImRpc3BsYXkiLCJyZW1vdmUiLCJhcnJvdyIsImRvd24iLCJjb2xsYXBzZSIsImluc2VydEFkamFjZW50RWxlbWVudCIsImljb24iLCJldmVudFR5cGUiLCJrZXlzIiwiZnVuYyIsImFkZEV2ZW50TGlzdGVuZXIiLCJjb25zb2xlIiwibG9nIiwiVVVJRCIsInJlc3VsdCIsImNoYXJhY3RlcnMiLCJjaGFyYWN0ZXJzTGVuZ3RoIiwiaSIsImNoYXJBdCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImQiLCJEYXRlIiwidG9UaW1lU3RyaW5nIiwicmVwbGFjZSIsInN1YnN0ciIsInZkb20iLCJpbml0VmRvbSIsInJlYWxkb20iLCJteVZpcnR1YWxEb20iLCJyZWFsRG9tV2luZG93Iiwib3duZXJEb2N1bWVudCIsImRlZmF1bHRWaWV3IiwiQ29DcmVhdGVPYnNlcnZlciIsIm9ic2VydmUiLCJ0YXNrIiwibXV0YXRpb24iLCJyZW1vdmVkTm9kZXMiLCJmb3JFYWNoIiwiaWQiLCJ2ZCIsInF1ZXJ5U2VsZWN0b3IiLCJ0YXJnZXQiLCJuZXdWZCIsInJlcGxhY2VXaXRoIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsU0FBU0EsbUJBQVQsT0FBK0Q7QUFBQSxNQUFoQ0MsT0FBZ0MsUUFBaENBLE9BQWdDO0FBQUEsTUFBdkJDLFVBQXVCLFFBQXZCQSxVQUF1QjtBQUFBLE1BQVhDLE9BQVcsUUFBWEEsT0FBVztBQUM3RDtBQUNBLE9BQUtBLE9BQUwsR0FBZUEsT0FBTyxHQUFHQSxPQUFILEdBQWEsRUFBbkM7QUFDQUMsUUFBTSxDQUFDQyxNQUFQLENBQWMsS0FBS0YsT0FBbkIsRUFBNEI7QUFDMUJHLGNBQVUsRUFBRSxFQURjO0FBRTFCQyxhQUFTLEVBQUUsRUFGZTtBQUcxQkMsV0FBTyxFQUFFLENBQUMsUUFBRDtBQUhpQixHQUE1Qjs7QUFNQSxPQUFLQyxNQUFMLEdBQWMsVUFBU0MsTUFBVCxFQUF1QztBQUFBLFFBQXRCQyxLQUFzQix1RUFBZCxDQUFjO0FBQUEsUUFBWEMsU0FBVzs7QUFBQSwrQ0FDcENGLE1BRG9DO0FBQUE7O0FBQUE7QUFDbkQsMERBQXVCO0FBQUEsWUFBZEcsRUFBYztBQUNyQixZQUFJLEtBQUtWLE9BQUwsQ0FBYUssT0FBYixDQUFxQk0sUUFBckIsQ0FBOEJELEVBQUUsQ0FBQ0UsT0FBakMsQ0FBSixFQUErQztBQUUvQyxZQUFJQyxTQUFTLEdBQUcsS0FBS0Msb0JBQUwsQ0FBMEI7QUFDeENDLGlCQUFPLEVBQUVMO0FBRCtCLFNBQTFCLENBQWhCO0FBSUFELGlCQUFTLENBQUNPLE1BQVYsQ0FBaUJILFNBQWpCOztBQUVBLFlBQUlILEVBQUUsQ0FBQ08sUUFBSCxDQUFZQyxNQUFoQixFQUF3QjtBQUN0QjtBQUNBLGVBQUtaLE1BQUwsQ0FBWUksRUFBRSxDQUFDTyxRQUFmLEVBQXlCVCxLQUFL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Z0JBQUlxRSxHQUFFLEdBQUd2RSxFQUFFLENBQUNjLFlBQUgsQ0FBZ0IsaUJBQWhCLENBQVQ7O0FBQ0EsZ0JBQUl5RCxHQUFKLEVBQVE7QUFDTixrQkFBSUMsRUFBRSxHQUFHbkYsVUFBVSxDQUFDb0YsYUFBWCxDQUF5QixzQkFBc0JGLEdBQXRCLEdBQTJCLEdBQXBELENBQVQ7QUFDQSxrQkFBSUMsRUFBSixFQUFRQSxFQUFFLENBQUN4QyxNQUFIO0FBQ1Q7QUFDRjtBQUNGLFNBUkQ7QUFTQSxZQUFJdUMsRUFBRSxHQUFHSCxRQUFRLENBQUNNLE1BQVQsQ0FBZ0I1RCxZQUFoQixDQUE2QixpQkFBN0IsQ0FBVDs7QUFDQSxZQUFJeUQsRUFBSixFQUFRO0FBQ04sY0FBSUMsRUFBRSxHQUFHbkYsVUFBVSxDQUFDb0YsYUFBWCxDQUF5QixzQkFBc0JGLEVBQXRCLEdBQTJCLEdBQXBELENBQVQ7O0FBQ0EsY0FBSUMsRUFBSixFQUFRO0FBQ04sZ0JBQUlHLEtBQUssR0FBR2QsWUFBWSxDQUFDcEQsU0FBYixDQUF1QixDQUFDMkQsUUFBUSxDQUFDTSxNQUFWLENBQXZCLENBQVo7QUFDQUYsY0FBRSxDQUFDSSxXQUFILENBQWVELEtBQWY7QUFDRDtBQUNGO0FBQ0Y7QUF2QmtCLEtBQXJCO0FBMEJBLFdBQU9kLFlBQVA7QUFDRDtBQXBDVSxDQUFiO0FBdUNlSCxtRUFBZjtBQUVBaEIsT0FBTyxDQUFDQyxHQUFSLENBQVksdUJBQVoiLCJmaWxlIjoiLi9zcmMvQ29DcmVhdGUtdmRvbS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIHZpcnR1YWxEb21HZW5lcmF0b3IoeyByZWFsRG9tLCB2aXJ0dWFsRG9tLCBvcHRpb25zIH0pIHtcbiAgLy8gc2V0IG9wdGlvbnMgdG8gdGhpcy5vcHRpb25zIGFuZCBzZXQgZGVmdWFsdHNcbiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyA/IG9wdGlvbnMgOiB7fTtcbiAgT2JqZWN0LmFzc2lnbih0aGlzLm9wdGlvbnMsIHtcbiAgICBpbmRlbnRCYXNlOiAxMCxcbiAgICBpbmRlbnRTdW06IDE1LFxuICAgIGV4Y2x1ZGU6IFtcIlNDUklQVFwiXSxcbiAgfSk7XG5cbiAgdGhpcy5yZW5kZXIgPSBmdW5jdGlvbihlbExpc3QsIGxldmVsID0gMCwgYXBwZW5kRG9tKSB7XG4gICAgZm9yIChsZXQgZWwgb2YgZWxMaXN0KSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmV4Y2x1ZGUuaW5jbHVkZXMoZWwudGFnTmFtZSkpIGNvbnRpbnVlO1xuXG4gICAgICBsZXQgdmlydHVhbEVsID0gdGhpcy5jcmVhdGVWaXJ0dWFsRWxlbWVudCh7XG4gICAgICAgIGVsZW1lbnQ6IGVsLFxuICAgICAgfSk7XG5cbiAgICAgIGFwcGVuZERvbS5hcHBlbmQodmlydHVhbEVsKTtcblxuICAgICAgaWYgKGVsLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAvLyB2aXJ0dWFsRWwuY2xhc3NMaXN0LmFkZCgnY29sbGFwc2libGUnKVxuICAgICAgICB0aGlzLnJlbmRlcihlbC5jaGlsZHJlbiwgbGV2ZWwgKyAxLCB2aXJ0dWFsRWwpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB0aGlzLnJlbmRlck5ldyA9IGZ1bmN0aW9uKGVsTGlzdCwgbGV2ZWwgPSAwLCBhcHBlbmREb20pIHtcbiAgICBsZXQgdmlydHVhbEVsO1xuICAgIGZvciAobGV0IGVsIG9mIGVsTGlzdCkge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5leGNsdWRlLmluY2x1ZGVzKGVsLnRhZ05hbWUpKSBjb250aW51ZTtcblxuICAgICAgdmlydHVhbEVsID0gdGhpcy5jcmVhdGVWaXJ0dWFsRWxlbWVudCh7XG4gICAgICAgIGVsZW1lbnQ6IGVsLFxuICAgICAgfSk7XG5cbiAgICAgIGlmIChlbC5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgLy8gdmlydHVhbEVsLmNsYXNzTGlzdC5hZGQoJ2NvbGxhcHNpYmxlJylcbiAgICAgICAgdGhpcy5yZW5kZXJOZXcoZWwuY2hpbGRyZW4sIGxldmVsICsgMSwgdmlydHVhbEVsKTtcbiAgICAgIH1cbiAgICAgIGlmIChhcHBlbmREb20pIGFwcGVuZERvbS5hcHBlbmQodmlydHVhbEVsKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmlydHVhbEVsO1xuICB9O1xuXG4gIHRoaXMuY3JlYXRlVmlydHVhbEVsZW1lbnQgPSBmdW5jdGlvbih7IG9wdGlvbnMsIGVsZW1lbnQgfSkge1xuICAgIGxldCB0cmVlSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cbiAgICBsZXQgZGlzcGxheU5hbWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtbmFtZVwiKTtcbiAgICBsZXQgbmFtZSA9IGRpc3BsYXlOYW1lID8gZGlzcGxheU5hbWUgOiBlbGVtZW50LnRhZ05hbWU7XG5cbiAgICBsZXQgaXNQYXJlbnQgPSBlbGVtZW50LmNoaWxkcmVuLmxlbmd0aDtcblxuICAgIHRyZWVJdGVtLmNsYXNzTGlzdC5hZGQoXCJ2ZG9tLWl0ZW1cIik7XG4gICAgaWYgKGVsZW1lbnQuY2hpbGRyZW4ubGVuZ3RoKSB0cmVlSXRlbS5jbGFzc0xpc3QuYWRkKFwicGFyZW50XCIpO1xuXG4gICAgbGV0IG1ldGFkYXRhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblxuICAgIG1ldGFkYXRhLnNldEF0dHJpYnV0ZShcImRhdGEtZXhjbHVkZVwiLCBcInRydWVcIik7XG4gICAgLy8gbWV0YWRhdGEuY2xhc3NMaXN0LmFkZCgnbWV0YWRhdGEnKVxuXG4gICAgbGV0IHJlYWxEb21JZCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1lbGVtZW50X2lkXCIpO1xuICAgIHRyZWVJdGVtLnNldEF0dHJpYnV0ZShcImRhdGEtZWxlbWVudF9pZFwiLCByZWFsRG9tSWQpO1xuICAgIC8vIGxldCBhdHRzID0gQXJyYXkuZnJvbShlbGVtZW50LmF0dHJpYnV0ZXMpLmZpbHRlcihhdHQgPT4gYXR0Lm5hbWUuc3RhcnRzV2l0aCgnZGF0YS1kcmFnZ2FibGUnKSB8fCBhdHQubmFtZS5zdGFydHNXaXRoKCdkYXRhLWRyb3BwYWJsZScpKVxuICAgIC8vIGF0dHMuZm9yRWFjaChhdHQgPT4ge1xuICAgIC8vICAgdHJlZUl0ZW0uc2V0QXR0cmlidXRlKGF0dC5uYW1lLCBhdHQudmFsdWUpO1xuICAgIC8vIH0pXG4gICAgdHJlZUl0ZW0uc2V0QXR0cmlidXRlKFwiZGF0YS1kcmFnZ2FibGVcIiwgXCJ0cnVlXCIpO1xuICAgIHRyZWVJdGVtLnNldEF0dHJpYnV0ZShcImRhdGEtZHJvcHBhYmxlXCIsIFwidHJ1ZVwiKTtcblxuICAgIGxldCB0ZXh0MiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIHRleHQyLmNsYXNzTGlzdC5hZGQoXCJlbGVtZW50LW5hbWVcIik7XG4gICAgdGV4dDIuaW5uZXJIVE1MID0gbmFtZTtcblxuICAgIGxldCBsYXN0RGlzcGxheTtcbiAgICBsZXQgZXllID0gdGhpcy5jcmVhdGVGQUljb24oe1xuICAgICAgbmFtZTogXCJmYS1leWVcIixcbiAgICAgIGV2ZW50OiB7XG4gICAgICAgIGNsaWNrOiAoZSkgPT4ge1xuICAgICAgICAgIGlmIChlbGVtZW50LnN0eWxlLmRpc3BsYXkgPT0gXCJub25lXCIpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IGxhc3REaXNwbGF5O1xuICAgICAgICAgICAgdHJlZUl0ZW0uY2xhc3NMaXN0LnJlbW92ZShcImxheWVyLWhpZGRlblwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsYXN0RGlzcGxheSA9IGVsZW1lbnQuc3R5bGUuZGlzcGxheTtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgdHJlZUl0ZW0uY2xhc3NMaXN0LmFkZChcImxheWVyLWhpZGRlblwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgIH0pO1xuICAgIGxldCBhcnJvdyA9IHRoaXMuY3JlYXRlRkFJY29uKHsgbmFtZTogXCJmYS1hcnJvd3MtYWx0XCIgfSk7XG5cbiAgICBtZXRhZGF0YS5hcHBlbmQoZXllKTtcblxuICAgIGlmIChpc1BhcmVudCkge1xuICAgICAgbGV0IGRvd24gPSB0aGlzLmNyZWF0ZUZBSWNvbih7IG5hbWU6IFwiZmEtY2FyZXQtZG93blwiIH0pO1xuICAgICAgbGV0IGNvbGxhcHNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgICBjb2xsYXBzZS5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJhZnRlcmJlZ2luXCIsIGRvd24pO1xuXG4gICAgICBjb2xsYXBzZS5jbGFzc0xpc3QuYWRkKFwiaWNvbi1jb250YWluZXJcIik7XG5cbiAgICAgIG1ldGFkYXRhLmFwcGVuZChjb2xsYXBzZSk7XG4gICAgICBkb3duLnNldEF0dHJpYnV0ZShcImRhdGEtdG9nZ2xlXCIsIFwiY29sbGFwc2VcIik7XG4gICAgICBkb3duLnNldEF0dHJpYnV0ZShcImRhdGEtdG9nZ2xlX2Nsb3Nlc3RcIiwgXCIudmRvbS1pdGVtXCIpO1xuICAgICAgZG93bi5zZXRBdHRyaWJ1dGUoXCJkYXRhLXRyYW5zZm9ybV90b1wiLCBcImZhIGZhLWNhcmV0LXJpZ2h0XCIpO1xuICAgIH1cblxuICAgIG1ldGFkYXRhLmFwcGVuZCh0ZXh0Mik7XG4gICAgbWV0YWRhdGEuYXBwZW5kKGFycm93KTtcbiAgICB0cmVlSXRlbS5hcHBlbmQobWV0YWRhdGEpO1xuICAgIHJldHVybiB0cmVlSXRlbTtcbiAgfTtcblxuICB0aGlzLmNyZWF0ZUZBSWNvbiA9IGZ1bmN0aW9uKHsgbmFtZSwgZXZlbnQgfSkge1xuICAgIGxldCBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlcIik7XG4gICAgaWNvbi5jbGFzc0xpc3QuYWRkKFwiZmFcIik7XG4gICAgaWNvbi5jbGFzc0xpc3QuYWRkKG5hbWUpO1xuXG4gICAgaWYgKGV2ZW50KSB7XG4gICAgICBsZXQgZXZlbnRUeXBlID0gT2JqZWN0LmtleXMoZXZlbnQpWzBdO1xuICAgICAgbGV0IGZ1bmMgPSBldmVudFtldmVudFR5cGVdO1xuICAgICAgaWNvbi5hZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgZnVuYyk7XG4gICAgfVxuICAgIHJldHVybiBpY29uO1xuICB9O1xuXG4gIHRoaXMucmVuZGVyKFtyZWFsRG9tXSwgMCwgdmlydHVhbERvbSk7XG59XG5cbi8qZ2xvYmFsIERPTVBhcnNlciovXG5cbmNvbnNvbGUubG9nKFwidmRvbSBpcyBsb2FkaW5nXCIpO1xuXG5mdW5jdGlvbiBVVUlEKGxlbmd0aCA9IDEwKSB7XG4gIHZhciByZXN1bHQgPSBcIlwiO1xuICB2YXIgY2hhcmFjdGVycyA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5elwiO1xuXG4gIHZhciBjaGFyYWN0ZXJzTGVuZ3RoID0gY2hhcmFjdGVycy5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICByZXN1bHQgKz0gY2hhcmFjdGVycy5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2hhcmFjdGVyc0xlbmd0aCkpO1xuICB9XG5cbiAgdmFyIGQgPSBuZXcgRGF0ZSgpLnRvVGltZVN0cmluZygpO1xuICB2YXIgcmFuZG9tID0gZC5yZXBsYWNlKC9bXFxXX10rL2csIFwiXCIpLnN1YnN0cigwLCA2KTtcbiAgcmVzdWx0ICs9IHJhbmRvbTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gd2luZG93LmluaXR2ZG9tID0gKCkgPT4ge1xuLy8gICBjb25zb2xlLmxvZyhcInZkb20gaXMgaW5pdGlhdGlvbmdcIik7XG5cbi8vICAgbGV0IHZkb21UYXJnZXRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLXZkb21fdGFyZ2V0XVwiKTtcblxuLy8gICBmb3IgKGxldCBpID0gMCwgbGVuID0gdmRvbVRhcmdldHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbi8vICAgICBsZXQgdmRvbVRhcmdldE5hbWUgPSB2ZG9tVGFyZ2V0c1tpXS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXZkb21fdGFyZ2V0XCIpO1xuXG4vLyAgICAgaWYgKHZkb21UYXJnZXROYW1lKSB7XG4vLyAgICAgICBsZXQgcmVhbGRvbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4vLyAgICAgICAgIFwiW2RhdGEtdmRvbV9pZD1cIiArIHZkb21UYXJnZXROYW1lICsgXCJdXCJcbi8vICAgICAgICk7XG4vLyAgICAgICAvLyBpZnJhbWUuY29udGVudFdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuLy8gICAgICAgbGV0IHJlYWxkb21FbGVtZW50O1xuLy8gICAgICAgaWYgKHJlYWxkb20udGFnTmFtZSAmJiByZWFsZG9tLnRhZ05hbWUgPT0gXCJJRlJBTUVcIilcbi8vICAgICAgICAgcmVhbGRvbUVsZW1lbnQgPSByZWFsZG9tLmNvbnRlbnREb2N1bWVudC5ib2R5LnBhcmVudE5vZGU7XG4vLyAgICAgICBlbHNlIHJlYWxkb21FbGVtZW50ID0gcmVhbGRvbTtcblxuLy8gICAgICAgaWYgKHJlYWxkb20uY29udGFpbnModmRvbVRhcmdldHNbaV0pKSB7XG4vLyAgICAgICAgIGxldCBlcnJvciA9IFwidmRvbTogdGFyZ2V0KHZpcnR1YWwgZG9tKSBlbGVtZW50IGNhbiBub3Qgb3ducyByZWFsIGRvbVwiO1xuLy8gICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbi8vICAgICAgICAgdGhyb3cgZXJyb3I7XG4vLyAgICAgICB9XG5cbi8vICAgICAgIGxldCBteVZpcnR1YWxEb20gPSBuZXcgdmlydHVhbERvbSh7XG4vLyAgICAgICAgIHJlYWxEb206IHJlYWxkb21FbGVtZW50LFxuLy8gICAgICAgICB2aXJ0dWFsRG9tOiB2ZG9tVGFyZ2V0c1tpXSxcbi8vICAgICAgIH0pO1xuLy8gICAgICAgd2luZG93LnZkb21PYmplY3QgPSBteVZpcnR1YWxEb207XG4vLyAgICAgICAvLyBkb21FZGl0b3IoeyB0YXJnZXQ6IGlmcmFtZUh0bWwucXVlcnlTZWxlY3RvckFsbCgnKicpLCBpZEdlbmVyYXRvcjogVVVJRCB9KVxuLy8gICAgICAgLy8gZG9tRWRpdG9yKHsgdGFyZ2V0OiB2ZG9tVGFyZ2V0c1tpXS5xdWVyeVNlbGVjdG9yQWxsKCcqJyksIGlkR2VuZXJhdG9yOiBVVUlEIH0pXG4vLyAgICAgICAvLyB9KVxuLy8gICAgIH1cbi8vICAgfVxuLy8gICBjb25zb2xlLmxvZyhcInZkb20gZmluaXNoIGluaXRpYXRpbmdcIik7XG4vLyB9O1xuXG5jb25zdCB2ZG9tID0ge1xuICBpbml0VmRvbTogZnVuY3Rpb24oeyByZWFsZG9tLCB2aXJ0dWFsRG9tIH0pIHtcbiAgICBsZXQgbXlWaXJ0dWFsRG9tID0gbmV3IHZpcnR1YWxEb21HZW5lcmF0b3Ioe1xuICAgICAgcmVhbERvbTogcmVhbGRvbSxcbiAgICAgIHZpcnR1YWxEb20sXG4gICAgfSk7XG5cbiAgICBsZXQgcmVhbERvbVdpbmRvdyA9IHJlYWxkb20ub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldztcblxuICAgIENvQ3JlYXRlT2JzZXJ2ZXIuYWRkKHtcbiAgICAgIG5hbWU6IFwidmRvbVwiLFxuICAgICAgZXhjbHVkZTpcIi52ZG9tLWl0ZW1cIixcbiAgICAgIG9ic2VydmU6IFtcImNoaWxkTGlzdFwiXSxcbiAgICAgIHRhc2s6IChtdXRhdGlvbikgPT4ge1xuICAgICAgICBpZihtdXRhdGlvbi5yZW1vdmVkTm9kZXMpXG4gICAgICAgIG11dGF0aW9uLnJlbW92ZWROb2Rlcy5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICAgIGlmIChlbC50YWdOYW1lKSB7XG4gICAgICAgICAgICBsZXQgaWQgPSBlbC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWVsZW1lbnRfaWRcIik7XG4gICAgICAgICAgICBpZiAoaWQpIHtcbiAgICAgICAgICAgICAgbGV0IHZkID0gdmlydHVhbERvbS5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtZWxlbWVudF9pZD1cIiArIGlkICsgXCJdXCIpO1xuICAgICAgICAgICAgICBpZiAodmQpIHZkLnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBpZCA9IG11dGF0aW9uLnRhcmdldC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWVsZW1lbnRfaWRcIik7XG4gICAgICAgIGlmIChpZCkge1xuICAgICAgICAgIGxldCB2ZCA9IHZpcnR1YWxEb20ucXVlcnlTZWxlY3RvcihcIltkYXRhLWVsZW1lbnRfaWQ9XCIgKyBpZCArIFwiXVwiKTtcbiAgICAgICAgICBpZiAodmQpIHtcbiAgICAgICAgICAgIGxldCBuZXdWZCA9IG15VmlydHVhbERvbS5yZW5kZXJOZXcoW211dGF0aW9uLnRhcmdldF0pO1xuICAgICAgICAgICAgdmQucmVwbGFjZVdpdGgobmV3VmQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIHJldHVybiBteVZpcnR1YWxEb207XG4gIH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCB2ZG9tO1xuXG5jb25zb2xlLmxvZyhcInZkb20gZmluaXNoZWQgbG9hZGluZ1wiKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/CoCreate-vdom.js\n");

/***/ })

/******/ })["default"];
});